<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="renderer" content="webkit" />
    <title>公式编辑器</title>
    <link rel="stylesheet" href="assets/styles/page.css" />
    <link rel="stylesheet" href="assets/styles/base.css" />
    <link rel="stylesheet" href="assets/styles/ui.css" />
    <link rel="stylesheet" href="assets/styles/scrollbar.css" />
  </head>
  <body>
    <div
      id="kf-editor-container"
      class="kf-editor"
      style="width: 100%; height: 100%;"
    ></div>
    <script src="dev-lib/jquery-3.6.0.min.js"></script>
    <script src="dev-lib/kitygraph.all.js"></script>
    <script src="dev-lib/kity-formula-render.all.min.js"></script>
    <script src="dev-lib/kity-formula-parser.all.min.js"></script>
    <script src="dev-lib/dev-define.js"></script>
    <script src="dev-lib/exports.js"></script>
    <script src="dev-lib/start.js"></script>
    <script src="dev-lib/dev-start.js"></script>
    <script>
      const domLoadedHandler = () => {
        const container = document.querySelector('#kf-editor-container');
        if (container !== null) {
          const setting = {
            render: {
              fontsize: 40,
            },
            resource: {
              path: 'resource/',
            },
          };
          const factory = kf.EditorFactory.create(container, setting);
          const handler = function() {
            this.execCommand('render', '\\placeholder');
            this.execCommand('focus');
            window.kfe = this;
          };
          factory.ready(handler);
        }
      };
      document.addEventListener('DOMContentLoaded', domLoadedHandler);
    </script>
  </body>
</html>
